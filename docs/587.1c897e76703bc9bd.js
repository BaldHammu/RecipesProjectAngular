"use strict";(self.webpackChunkRecipe=self.webpackChunkRecipe||[]).push([[587],{6587:(T,c,s)=>{s.r(c),s.d(c,{ShoppingModule:()=>S});var u=s(1382),p=s(605),o=s(9133),d=s(8853),t=s(9619),m=s(2894);let g=(()=>{class i{constructor(n,e){this.shoppingService=n,this.router=e,this.modoEdicao=!1}ngOnInit(){this.form=new o.cw({nome:new o.NI(null),quantia:new o.NI(null)}),this.subscription=this.shoppingService.startedEditing.subscribe(n=>{this.modoEdicao=!0,this.itemEdicao=n,this.form.setValue({nome:this.shoppingService.itemEditado(n).nome,quantia:this.shoppingService.itemEditado(n).quantia})})}ngOnDestroy(){this.subscription.unsubscribe()}onAddIngrediente(){this.adiciona=new d.D(this.form.value.nome,this.form.value.quantia),this.modoEdicao?(this.shoppingService.editaIngredientes(this.adiciona,this.itemEdicao),this.router.navigate(["./compras"])):this.shoppingService.adicionaIngrediente(this.adiciona),this.form.reset()}limpaIngredientes(){this.form.reset(),this.modoEdicao=!1}itemDeleta(){this.shoppingService.deletaIngredientes(this.itemEdicao),this.form.reset()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.s),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-shopping-list-edit"]],decls:22,vars:3,consts:[[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],[1,"col-sm-5","form-group"],["for","nome"],["type","text","name","nome","formControlName","nome","required","",1,"form-control"],[1,"col-sm-2","form-group"],["for","quantia"],["type","number","id","quantia","name","quantia","formControlName","quantia","required","",1,"form-control"],[1,"btn-group"],["type","submit",1,"btn","btn-success",2,"margin","5px",3,"disabled"],["type","button",1,"btn","btn-danger",2,"margin","5px",3,"click"],["type","button",1,"btn","btn-primary",2,"margin","5px",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"hr"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return e.onAddIngrediente()}),t.TgZ(4,"div",0),t.TgZ(5,"div",3),t.TgZ(6,"label",4),t._uU(7,"Nome:"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"label",7),t._uU(11,"Quantia:"),t.qZA(),t._UZ(12,"input",8),t.qZA(),t.qZA(),t.TgZ(13,"div",0),t.TgZ(14,"div",1),t.TgZ(15,"div",9),t.TgZ(16,"button",10),t._uU(17),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return e.itemDeleta()}),t._uU(19,"Deletar"),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return e.limpaIngredientes()}),t._uU(21,"Limpar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(13),t.Q6J("disabled",!e.form.valid),t.xp6(1),t.Oqu(e.modoEdicao?"Editar":"Adicionar"))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,o.wV],styles:[""]}),i})();var l=s(6019);function h(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(){const b=t.CHM(n).index;return t.oxw().onEditItem(b)}),t._uU(1),t.qZA()}if(2&i){const n=r.$implicit;t.xp6(1),t.AsE(" ",n.nome," (",n.quantia,") ")}}const f=function(i){return[i]},Z=[{path:"",component:(()=>{class i{constructor(n,e){this.shoppingService=n,this.router=e,this.hakuna=!1,this.ingredientes=this.shoppingService.getIngredients()}ngOnInit(){this.subscription=this.shoppingService.adicionaIngredientes.subscribe(n=>{this.ingredientes=n})}ngOnDestroy(){this.subscription.unsubscribe()}onEditItem(n){this.router.navigate(["./compras","editar"]),setTimeout(()=>{this.shoppingService.startedEditing.next(n)},125)}editando(){this.hakuna=!this.hakuna}impressao(){window.print()}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(m.s),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-shopping"]],decls:11,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"btn","btn-primary","noprint",3,"routerLink","click"],[1,"noprint"],[1,"list-group"],["class","list-group-item","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-info","noprint",3,"click"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return e.editando()}),t._uU(4,"Adicionar Ingredientes"),t.qZA(),t._UZ(5,"router-outlet"),t._UZ(6,"hr",4),t.TgZ(7,"ul",5),t.YNc(8,h,2,2,"a",6),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return e.impressao()}),t._uU(10,"Imprimir Lista de compras"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Q6J("routerLink",t.VKq(2,f,e.hakuna?"/compras":"editar")),t.xp6(5),t.Q6J("ngForOf",e.ingredientes))},directives:[p.rH,p.lC,l.sg],styles:["@media print{.noprint[_ngcontent-%COMP%]{visibility:hidden}}"]}),i})(),children:[{path:"editar",component:g}]}];let v=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Z)],p.Bz]}),i})(),S=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.m,v]]}),i})()}}]);